# WPFleet Caddy Configuration
# Main configuration file for FrankenPHP/Caddy

# Global options
{
    # Email for ACME/Let's Encrypt certificates
    email {$ACME_EMAIL:admin@example.com}

    # Enable automatic HTTPS
    auto_https on

    # Optimized server settings
    servers {
        protocol {
            experimental_http3
            strict_sni_host
        }
    }
}

# Import all site configurations from sites directory
import /etc/caddy/sites/*.caddy

# Health check endpoint for Docker healthcheck
:8080 {
    respond /health 200 {
        body "OK"
    }
}
